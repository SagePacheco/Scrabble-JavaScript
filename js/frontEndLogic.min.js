function bestWordWorker(a){timeStamp1=performance.now(),a=JSON.stringify(a),dictionaryWorker.postMessage(a)}function ScrabbleWord(a){"use strict";this.letters=a.trim(),this.wordSize=this.letters.length,this.wordScore=0,this.uniqueLetterMap={},this.uniqueLetters="",this.mapLetters=function(){for(var a=0;a<this.wordSize;a++){var b=this.letters[a];this.wordScore+=scoreMap[b],"undefined"!==typeof this.uniqueLetterMap[b]?this.uniqueLetterMap[b]++:(this.uniqueLetterMap[b]=1,this.uniqueLetters+=b)}},this.mapLetters()}function updateBestWordUI(a){var b="";if(null!==a){for(var c=0;c<a.letters.length;c++){var d=a.letters[c];b+="<div class='scrabbleTile'><p class='tileLetter'>"+d.toUpperCase()+"</p><p class='tileScore'>"+scoreMap[d.toLowerCase()]+"</p></div>"}$responseBlock.html(b)}else $responseBlock.html("<h2>No words yet</h2>")}function testEfficiency(){var a=performance.now(),b=new ScrabbleWord("aeoiuodopoieoi");b.mapLetters();var d=(bestWordFinder(b),performance.now()),e=d-a,f=120,g=150;console.log("Finding the word took "+e+" milliseconds."),console.log(e<f?"Efficiency has improved":e>=f&&e<=g?"Efficiency is the same":"Efficiency is worse")}var timeStamp1,timeStamp2,inputObject,dictionaryWorker,workerDictionaryLoaded=!1,$responseBlock=$("#responseBlock"),scoreMap={a:1,b:3,c:3,d:2,e:1,f:4,g:2,h:4,i:1,j:8,k:5,l:1,m:3,n:1,o:1,p:3,q:10,r:1,s:1,t:1,u:1,v:4,w:4,x:8,y:4,z:10};"undefined"!==typeof Worker?(dictionaryWorker=new Worker("js/wordFinder.min.js"),dictionaryWorker.onmessage=function(a){if(workerDictionaryLoaded){timeStamp2=performance.now(),console.log("Finding the word took "+(timeStamp2-timeStamp1)+" milliseconds.");var b=JSON.parse(a.data);updateBestWordUI(b)}else workerDictionaryLoaded=!0,console.log("Ready to go"),$("#loaderScreen").fadeOut()}):console.log("No Worker support"),$.get("txt/sorted2.txt",function(a){"use strict";var b=[],c=a.split("\n");b=c.map(function(a){return new ScrabbleWord(a)}),console.log("Dictionary Processed"),b=JSON.stringify(b),dictionaryWorker.postMessage(b)},"text"),$("#letters").on("input",function(){"use strict";var a=$("#letters").val().toLowerCase();inputObject=new ScrabbleWord(a),a.length<15&&bestWordWorker(inputObject)});