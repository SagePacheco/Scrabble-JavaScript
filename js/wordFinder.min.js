function canBeSpelled(a,b){var c=a.uniqueLetterMap,d=b.uniqueLetterMap;for(var e in c)if("undefined"===typeof d[e]||c[e]>d[e])return!1;return!0}function bestWordFinder(a){"use strict";for(var b="",c=0,d=0;d<dictionary.length;d++){if(!(dictionary[d].wordSize<=a.wordSize)){console.log("Checked "+d+" words");break}if(canBeSpelled(dictionary[d],a)){var e=dictionary[d].wordScore;e>c&&(b=dictionary[d],c=e)}}""!==b?(b=JSON.stringify(b),self.postMessage(b)):self.postMessage(null)}var dictionary=[],dictionaryLoaded=!1;self.addEventListener("message",function(a){if(dictionaryLoaded){var b=JSON.parse(a.data);bestWordFinder(b)}else dictionary=JSON.parse(a.data),console.log("Dictionary loaded on worker"),self.postMessage("dictionary loaded"),dictionaryLoaded=!0},!1);